{
	"$defs": {
		"dependencies": {
			"items": {
				"$ref": "#/$defs/mod",
				"type": "object"
			},
			"type": "array"
		},

		"mod": {
			"properties": {
				"Name": {
					"description": "The mod's name.",
					"type": "string"
				},

				"Version": {
					"description": "The mod's version number.",
					"pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
					"type": "string"
				}
			},
			"required": ["Name", "Version"],
			"type": "object"
		},

		"modDefinition": {
			"allOf": [
				{ "$ref": "#/$defs/mod" },
				{
					"properties": {
						"DLL": {
							"description": "Path to the mod's DLL file, relative to ./Code",
							"type": "string"
						},
						"Dependencies": {
							"$ref": "#/$defs/dependencies",
							"description": "Mods that this mod depends on, including Everest itself."
						},
						"OptionalDependencies": {
							"$ref": "#/$defs/dependencies",
							"description": "Mods that this mod supports, but does not require."
						}
					}
				}
			],
			"type": "object"
		}
	},
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"description": "Describes Everest mod metadata",

	"items": { "$ref": "#/$defs/modDefinition" },

	"title": "Everest Manifest Schema",
	"type": "array"
}
